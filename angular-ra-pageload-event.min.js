/*!
 * angular-ra-pageload-event.js v0.0.1
 * 
 * Copyright 2014
 * MIT License
 */
!function(){"use strict";angular.module("ra.pageLoad",[]).config(["$httpProvider",function(a){a.interceptors.push("loadingInterceptor")}]).run(["$rootScope","loadingProgress",function(a,b){b.init(),a.$on("$routeChangeSuccess",b.reset),a.$on("$routeUpdate",b.reset)}]).factory("loadingInterceptor",["$q","loadingProgress",function(a,b){function c(a){return b.queue(a),a}function d(a){return b.dequeue(a.config),a}function e(c){return b.dequeue(c.config),a.reject(c)}return{request:c,response:d,requestError:e,responseError:e}}]).factory("loadingProgress",["$rootScope","$timeout",function(a,b){return{init:function(){this.pendingRequests=[]},reset:function(){this.pendingRequests.length=0,this.loaded=!1},queue:function(a){"GET"===a.method&&(this.pendingRequests.push(a.url),this.loaded=!1)},dequeue:function(a){var c=this.pendingRequests.indexOf(a.url);-1!==c&&this.pendingRequests.splice(c,1),b(function(){0===this.pendingRequests.length&&(this.notify("pageReady"),this.loaded=!0)}.bind(this))},notify:function(){a.$broadcast.apply(a,arguments)}}}])}();